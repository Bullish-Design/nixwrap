# wrapper.toml - Configuration for claude-code wrapper
# This file drives all code generation and update automation

flake_name = "claude-code"
devenv_enabled = true

[source]
registry = "npm"
name = "@anthropic-ai/claude-code"
# version = "2.0.76"  # Omit to use latest

[runtime]
type = "nodejs"
nix_package = "nodejs_22"
# extra_packages = []

[wrapper]
binary_name = "claude"
entry_point = "cli.js"
disable_auto_update = true
node_flags = ["--no-warnings", "--enable-source-maps"]
# env_vars = { SOME_VAR = "value" }

[meta]
description = "Claude Code - AI coding assistant in your terminal"
homepage = "https://www.anthropic.com/claude-code"
license = "unfree"
# main_program = "claude"  # defaults to binary_name
# platforms = "platforms.all"

[cachix]
name = "claude-code"
public_key = "claude-code.cachix.org-1:YeXf2aNu7UTX8Vwrze0za1WEDS+4DuI2kVeWEE4fsRk="

[github_actions]
update_cron = "0 * * * *"  # Hourly
auto_merge = true
test_platforms = ["ubuntu-latest", "macos-latest"]
